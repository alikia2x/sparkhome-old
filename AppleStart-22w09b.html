<!DOCTYPE html>
<html>
<head> 
<meta charset="utf-8"> 
<link rel="stylesheet" href="../src/iconfont.css">
<script>

    function about_close(){
        document.getElementById("about_box").style.animationName="about_disappear";
        document.getElementById("about_box").style.animationDuration="0.5s";
        //这里要等动画搞完再设置关于框的显示属性
        setTimeout("about_disapp()",500);

    }

    //上文的setTimeout只能运行一个函数，只好这样写1
    function about_disapp()
    {
        document.getElementById("about_box").style.display="none";
    }

    function about_out(){
        document.getElementById("about_box").style.display="inline";
        document.getElementById("about_box").style.animationName="about_appear";
        document.getElementById("about_box").style.animationDuration="0.5s";
    }

    function search(){
        var a=document.getElementById("search").value;
        var b=document.getElementById("search_engine").value;
        if (b=="bing")
        {
            window.open('https://cn.bing.com/search?q='+a+"&ensearch=0");
        }
        else if (b=="baidu"){
            window.open('https://www.baidu.com/s?word='+a);
        }
        else if (b=="bing-en"){
            window.open('https://cn.bing.com/search?q='+a+"&ensearch=1");
        }
        else if (b=="trans"){
            window.open('https://translate.google.cn/?sl=auto&tl=zh-CN&text='+a);
        }
        else if (b=="google"){
            window.open('https://www.google.com/search?q='+a);
        }
    }

    function to_time(){
        window.open("http://time.is")
    }

    function load(){
        console.log(localStorage.getItem('pic'));
        if (localStorage.getItem('pic')==null){
            localStorage.setItem('pic','https://pic1.zhimg.com/v2-19d657e1f93c77e381205bf64d37ed58_r.jpg')
        }
        var url=localStorage.getItem('pic');
        document.getElementById("main").style.backgroundImage="url('"+url+"')";
    }
    function bg_change(){
        var url=prompt("输入图片链接");
        localStorage.setItem('pic',url);
        document.getElementById("main").style.backgroundImage="url('"+url+"')";
    }

    function go_bilibili(){
        window.open("https://www.bilibili.com")
    }

    function go_mail(){
        window.open("https://mail.163.com")
    }

    function go_music(){
        window.open("https://music.163.com/")
    }

</script>
<style>
    /* 动画代码 */

    @keyframes about_appear {
        0%   {opacity: 0%; height: 150px;}
        100% {opacity: 100%; height: 500px;}
    }

    @keyframes about_disappear {
        0%   {opacity: 100%;}
        100% {opacity: 0%;}
    }

    @keyframes big {
    0%   {width: 24%;left: 38%;border: 2px solid rgb(161, 161, 161);}
    100% {width: 40%;left: 30%;border: 2px solid blue;}
    }

    @keyframes small {
    0%   {width: 40%;left: 30%;}
    100% {width: 24%;left: 38%;}
    }

    @keyframes appear {
    0%   {color:rgba(255, 255, 255, 0);border: 2px solid rgba(255, 255, 255, 0)}
    100% {color:rgba(255, 255, 255, 255);border: 2px solid rgb(255, 255, 255)}
    }


    .search {
        position: static;
        top: 35%;
        left: 10%;
        width: 80%;
    }
    .user-input {
        margin-top: 10px;
        position: absolute;
        top: 30%;
        left: 38%;
        width: 24%;
        height: 40px;
        border: 2px solid rgb(161, 161, 161);
        border-radius: 20px;
        background-color: rgba(34, 34, 34, 0.8);
        color: white;
        box-sizing: border-box;
        outline: none;
        text-indent: 10px;
        animation-name: small;
        animation-duration: 0.8s;
    }
    
    .user-input:focus {
        margin-top: 10px;
        position: absolute;
        top: 30%;
        height: 40px;
        width: 40%;
        left: 30%;
        border-radius: 20px;
        box-sizing: border-box;
        outline: none;
        text-indent: 10px;
        animation-name: big;
        animation-duration: 0.35s;
        border: 2px solid blue;
    }

    
    .engine {
        margin-top: 20px;
        position: absolute;
        width: 80px;
        height: 30px;
        left: 50%;
        top: 37%;
        transform: translate(-40px,0px);
        background-color: rgba(185, 185, 185, 0.25);
        border: 2px solid rgb(255, 255, 255);
        border-radius: 17px;
        animation-name: appear;
        animation-duration: 0.5s;
        color:rgba(255, 255, 255, 255);
        
    }
    .time {
        cursor:pointer;
        position: absolute;
        top: 17%;
        left: 50%;
        font-size: 56px;
        transform: translate(-112px,0px);
        color: rgba(0, 0, 0, 0.603);
        text-shadow:
                      0 0 20px #ffffff,
                      0 0 35px #ffffff,
                      0 0 40px #ffffff,
                      0 0 50px #ffffff,
                      0 0 60px #ffffff,
                      0 0 70px #ffffff,
                      0 0 75px #ffffff;
    }

    .weather {
        position: relative;
        top: 70%;
        left: 45%;
    }

    .defult{
        position:fixed;
        top: 0;
        left: 0;
        width:100%;
        height:100%;
        min-width: 1000px;
        z-index:-10;
        zoom: 1;
        background-size: cover;
        -webkit-background-size: cover;
        -o-background-size: cover;
        background-position: center 0;
        background-color: rgb(119, 35, 255);
        src:"https://pic1.zhimg.com/v2-19d657e1f93c77e381205bf64d37ed58_r.jpg";
    }
    
    .upload{
        height: 23px;
        width: 80px;
        right: 20px;
        bottom: 10px;
        position: absolute;
        color: white;
        border: 2px solid white;
        border-radius: 15px;
        text-align: center;
        cursor: pointer;
    }

    .link{
        position: absolute;
        left: 25%;
        top: 50%;
        min-width: 300px;
        width: 50%;
    }

    .bilibili{
        position: absolute;
        font-size: 55px;
        left: 30%;
        color: white;
        transform: translate(-27.5px,0px);
    }

    .mail{
        position: absolute;
        font-size: 55px;
        left: 50%;
        color: white;
        transform: translate(-27.5px,0px);
    }

    .music{
        position: absolute;
        font-size: 55px;
        left: 70%;
        color: white;
        transform: translate(-27.5px,0px);
    }

    .about_btn{
        position: absolute;
        width: 40px;
        height: 20px;
        left: 50%;
        bottom: 10px;
        color: white;
        border: 2px solid white;
        border-radius: 15px;
        text-align: center;
        transform: translate(-50%,-50%);
    }

    .about{
        position: absolute;
        width: 400px;
        height: 500px;
        left: 50%;
        top: 15%;
        color: rgb(0, 0, 0);
        border: 2px solid white;
        background-color: rgba(163, 163, 163, 0.816);
        border-radius: 15px;
        display: none;
        transform: translate(-50%,0%);
        overflow: auto;
    }

    .close{
        position: absolute;
        right: 7px;
        top: -10px;
        height: 30px;
        width: 30px;
        font-size: 20px;
        text-align: center;
    }

    .close:hover{
        background-color: gray;
        border: 0px solid gray;
        border-radius: 20px;
        cursor: pointer;
    }

    .about_txt{
        color: rgb(0, 0, 0);
        text-align: center;
    }

</style>

<title>一个简单的起始页</title> 
</head>


<body background="bg.jpg" class="defult" id="main" onload="load()">

    <!-- 背景选择 -->
    <a type="button" class="upload" id="bg_btn" onclick="bg_change()">
        <i class="fa fa-upload"></i>背景选择
    </a>


    <!-- 顶部时间 -->
    <a onclick="to_time()">
        <div id="divBottom" class="time"></div>
    </a>
    <script>
        date()
        //获取当天日期
        function date()
        {
        var date=new Date();
        var hour="00"+date.getHours();
            hour=hour.substr(hour.length-2);
        var minute="00"+date.getMinutes();
            minute=minute.substr(minute.length-2);
        var second="00"+date.getSeconds();
            second=second.substr(second.length-2);
    
        document.getElementById("divBottom").innerHTML=hour+":"+minute+":"+second;
        }
        setInterval("date()",1000);
    </script>

    <!-- 搜索框与搜索引擎 -->
    <div class="search">
        <form>
            <select id="search_engine" class="engine">
                <option value="bing">必应</option>
                <option value="trans">翻译</option>
                <option value="bing-en">必应国际</option>
                <option value="baidu">百度</option>
                <option value="google">谷歌</option>
            </select>
        </form>
        <input class="user-input" type="text" name="search" id="search" placeholder="搜索" onkeydown="if(event.keyCode==13) search();">
    </div>


    <!-- 三个快捷链接 -->
    <div class="link">
        <div class="bilibili">
            <i class="iconfont icon-bilibili" onclick="go_bilibili()"></i>
        </div>
        
    
        <div class="mail">
            <i class="iconfont icon-youxiang" onclick="go_mail()"></i>
        </div>

        <div class="music">
            <i class="iconfont icon-yinletianchong " onclick="go_music()"></i>
        </div>

    </div>


    <!--关于-->
    <div class="about" id="about_box">
        <p onclick="about_close()" class="close">×</a>
        <p class="about_txt">关于</p>
        <p>这是一个简单的起始页,由
            <a href="https://space.bilibili.com/600004959">红苹果</a>
            制作。
        </p>
        <p>V0   起始页制作完成</p>
        <p>V1.0   正式上线,背景选择从离线图片变为在线链接,能更好更换.</p>
        
    </div> 

    </div>
    <div class="about_btn" onclick="about_out()">
        关于
    </div>

    <!-- 下面是和风天气插件,最好放在最后,否则影响网页加载速度. -->
    <div id="he-plugin-simple"></div>
    <script>
    WIDGET = {
    "CONFIG": {
        "modules": "20",
        "background": "4",
        "backgroundColor": "AAAAAA",
        "tmpColor": "FFFFFF",
        "tmpSize": "16",
        "cityColor": "FFFFFF",
        "citySize": "16",
        "aqiColor": "FFFFFF",
        "aqiSize": "16",
        "weatherIconSize": "24",
        "alertIconSize": "18",
        "padding": "10px 10px 10px 10px",
        "shadow": "0",
        "language": "zh",
        "borderRadius": "20",
        "fixed": "true",
        "vertical": "top",
        "horizontal": "left",
        "left": "10",
        "bottom": "10",
        "key": "2882a3b8d30c4db2bb8cef54dece815e"
    }
    }
    </script>
    <script src="https://widget.qweather.net/simple/static/js/he-simple-common.js?v=2.0"></script>


</body>
</html>